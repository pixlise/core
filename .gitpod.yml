# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

tasks:
  - name: Setup Dev
    before: |
      sudo wget -qO - https://www.mongodb.org/static/pgp/server-5.0.asc | sudo apt-key add -
      sudo echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/5.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-5.0.list
      sudo mkdir -p /data/db
      sudo chown -R gitpod:gitpod /data
      sudo apt update && sudo apt install -y mongodb-org
    init: |
      eval $(gp env -e)
      go get -u ./...
      make build-linux


jetbrains:
  intellij:
    plugins:
      - org.jetbrains.plugins.go
    prebuilds:
      version: both
